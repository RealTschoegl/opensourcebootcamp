<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Week 1 : Lesson 7 : Time</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Open Source Ruby on Rails Course</a></h1>
            <a class="extra" href="/">lessons</a>
            <a class="extra" href="/mini-lessons">mini-lessons</a>
            <a class="extra" href="/prework">prework</a>
            <a class="extra" href="/projects">projects</a>
            <a class="extra" href="/resources">resources</a>
            <a class="extra" href="/skills">skills</a>
            <a class="extra" href="/style">style</a>
            <a class="extra" href="/terminology">terminology</a>

          </div>

          <h2>Week 1 : Lesson 7 : Time</h2>
<p class="meta">07 Mar 2014</p>

==========================================

<div class="post">
<h2>Review</h2>

<p>Review from <a href="/lesson/2014/03/06/lesson-conditionals.html">Week 1 : Lesson 6 : Conditionals</a>.  One (or more) pair will rehash the previous session&#39;s lesson by teaching the basic learnings to the group.  They will explain it to the others by drawing a diagram, using an analogy, telling a story or in some other way creatively communicating the idea without using code.</p>

<h2>Today&#39;s Project<a name="todays-project"></a></h2>

<p>Part of <a href="/project/2014/03/07/project-bos.html">Week 1 : Project 1 : BOS</a>.</p>

<h2>Time</h2>

<h3><em>What Is It?</em></h3>

<p>Ruby isn&#39;t just about logic, it&#39;s also about getting and using real-life data.  The Time library, what we&#39;re going to be working with today, is one library that allows you to get data and transform it.</p>

<h3><em>How Does It Work?</em></h3>

<p>Here are some ways that you can use the Time library.</p>

<p>First, you can find out what time it is right now:</p>
<div class="highlight"><pre><code class="ruby language-ruby" data-lang="ruby"><span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">088</span> <span class="o">&gt;</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span>
 <span class="o">=&gt;</span> <span class="mi">2014</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mi">31</span> <span class="mi">12</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">-</span><span class="mo">0600</span>
</code></pre></div>
<p>Notice the format for the time that it gives.  This is called ISO 8601, which is <a href="http://en.wikipedia.org/wiki/ISO_8601">an international standard</a> for representing date and time. It is worth mentioning that this time is the local time.  If you would like to use a standard time that is universally recognized, then you can also get it in UTC (Coordinated Universal Time - it&#39;s a French acronym).  </p>
<div class="highlight"><pre><code class="ruby language-ruby" data-lang="ruby"><span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">122</span> <span class="o">&gt;</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">utc</span>
 <span class="o">=&gt;</span> <span class="mi">2014</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mi">31</span> <span class="mi">19</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">24</span> <span class="no">UTC</span> 
</code></pre></div>
<p>You can also get a specific time if you enter some date parameters.  </p>
<div class="highlight"><pre><code class="ruby language-ruby" data-lang="ruby"><span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">089</span> <span class="o">&gt;</span> <span class="no">Time</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">2002</span><span class="p">)</span>  
 <span class="o">=&gt;</span> <span class="mi">2002</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="o">-</span><span class="mo">0600</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">090</span> <span class="o">&gt;</span> <span class="no">Time</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">2002</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>  
 <span class="o">=&gt;</span> <span class="mi">2002</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mo">01</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="o">-</span><span class="mo">0500</span>
</code></pre></div>
<p>Alternatively, you can use Time.at to also get a specific time, but in seconds from the UNIX Epoch:</p>
<div class="highlight"><pre><code class="ruby language-ruby" data-lang="ruby"><span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">094</span> <span class="o">&gt;</span> <span class="no">Time</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
 <span class="o">=&gt;</span> <span class="mi">1969</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">18</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="o">-</span><span class="mo">0600</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">093</span> <span class="o">&gt;</span> <span class="no">Time</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">24</span><span class="o">*</span><span class="mi">365</span><span class="p">)</span>
 <span class="o">=&gt;</span> <span class="mi">1970</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">18</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="o">-</span><span class="mo">0600</span>
</code></pre></div>
<p>UNIX Epoch?  As far as Ruby is concerned, time started on January 1st, 1970.  More on this <a href="http://stackoverflow.com/questions/1090869/why-is-1-1-1970-the-epoch-time">here</a>.</p>

<p>Time also responds to some logic as well.  You can create a Time object and query that object as so:</p>
<div class="highlight"><pre><code class="ruby language-ruby" data-lang="ruby"><span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">095</span> <span class="o">&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span>
 <span class="o">=&gt;</span> <span class="mi">2014</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mi">31</span> <span class="mi">13</span><span class="p">:</span><span class="mo">02</span><span class="p">:</span><span class="mi">26</span> <span class="o">-</span><span class="mo">0600</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">096</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">monday?</span>
 <span class="o">=&gt;</span> <span class="kp">false</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">097</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">tuesday?</span>
 <span class="o">=&gt;</span> <span class="kp">false</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">098</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">wednesday?</span>
 <span class="o">=&gt;</span> <span class="kp">false</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">099</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">thursday?</span>
 <span class="o">=&gt;</span> <span class="kp">false</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">100</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">friday?</span>
 <span class="o">=&gt;</span> <span class="kp">true</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">101</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">saturday?</span>
 <span class="o">=&gt;</span> <span class="kp">false</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">102</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">sunday?</span>
 <span class="o">=&gt;</span> <span class="kp">false</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">103</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">wday</span>
 <span class="o">=&gt;</span> <span class="mi">5</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">104</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">year</span>
 <span class="o">=&gt;</span> <span class="mi">2014</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">105</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">month</span>
 <span class="o">=&gt;</span> <span class="mi">1</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">106</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">hour</span>
 <span class="o">=&gt;</span> <span class="mi">13</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">107</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">dst?</span>
 <span class="o">=&gt;</span> <span class="kp">false</span>
</code></pre></div>
<p>What do you think the last one is?</p>

<p>If we don&#39;t want to print out a time in the somewhat unwieldy ISO 8601 format, we can use a method (remember that word) called strftime to format the time based on our specifications.</p>
<div class="highlight"><pre><code class="ruby language-ruby" data-lang="ruby"><span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">123</span> <span class="o">&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span>
 <span class="o">=&gt;</span> <span class="mi">2014</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mi">31</span> <span class="mi">13</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mo">04</span> <span class="o">-</span><span class="mo">0600</span> 
<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p247</span> <span class="p">:</span><span class="mi">124</span> <span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;Printed on %m/%d/%Y&quot;</span><span class="p">)</span>
 <span class="o">=&gt;</span> <span class="s2">&quot;Printed on 01/31/2014&quot;</span> 
</code></pre></div>
<p>You can find more on what symbols to use for what times in strftime in the Time library&#39;s documentation.</p>

<h3><em>What Can I Do With It?</em></h3>

<p>Let&#39;s make a basic conditional using Time.  </p>

<h3><em>Why Do I Care?</em></h3>

<p>Because things happen in time. </p>

<h2>Exercise</h2>

<p>Make a conditional statement that tells what a cooler version of you would do every night of the week.</p>

<h2>Happiness Checkpoint</h2>

<p>Flag down an instructor and show them what you did.</p>

<h2>Project Guidelines</h2>

<p>Imagine that your BOS now has daily specials and lunch specials.  Implement that business logic in your model.</p>

<h2>Solve</h2>

<p>Flag an instructor when you are done.  Be prepared to present yours in front of the class.</p>

<h2>Extensions</h2>

<p>If you really want to get tricky, implement pricing.  Even harder, implement pricing based on time of day.  </p>

<h2>Push Instructions</h2>

<p>Push to your BOS repo.  You are officially done this project, so feel free to play the push music.</p>

<h2>Further Readings</h2>

<ul>
<li><a href="http://www.ruby-doc.org/core-2.1.0/Time.html">Ruby Documentation on Time</a></li>
<li><a href="http://www.tutorialspoint.com/ruby/ruby_date_time.htm">Date and Time in Ruby</a></li>
</ul>

<h2>Blogging</h2>

<p>Each weekend, you will be expected to write a blog entry as homework.  The blog entry must be submitted to your Moodle blog, but can also be published on an external blog (publishing publicly is our recommendation, but not a requirement).  Feel free to write about something you have learned, a challenge you solved, a particularly interesting technology, or a challenging problem.  You are also welcome to write about your personal experiences of the program and or learning Ruby on Rails.  What we are hoping is that you can begin getting comfortable with publishing your thoughts online and contributing to the Ruby community.</p>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                Github Repo:<br />
                My Twitter:<br />
                
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/RealTschoegl/opensourcebootcamp">github.com/RealTschoegl/opensourcebootcamp</a><br />
                <a href="https://twitter.com/RealTschoegl">twitter.com/RealTschoegl</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
